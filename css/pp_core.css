:root{
  /* PALETTE CLAIRE (proche portail mode clair) */
  --light-bg:#f3f4f6;
  --light-bg-soft:#e5e7eb;
  --light-card:#ffffff;
  --light-card-soft:#f9fafb;
  --light-border:#d1d5db;
  --light-text:#0f172a;
  --light-muted:#6b7280;
  --light-accent:#1b396a; /* bleu pour titres */

  /* PALETTE SOMBRE (proche portail accueil) */
  --dark-bg:#041221;
  --dark-bg-soft:#07192a;
  --dark-card:#0b2238;
  --dark-card-soft:#12263f;
  --dark-border:#1f3b63;
  --dark-text:#e5f0ff;
  --dark-muted:#8ea2c8;

  --pill-bg:rgba(255,255,255,0.06);
  --pill-text:#cbd5f5;

  --header-max:1180px;
}

*{
  box-sizing:border-box;
}

html,body{
  margin:0;
  padding:0;
}

/* Thème de base */
body{
  min-height:100vh;
  font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
  background:radial-gradient(circle at top,#0b1f3a 0, var(--dark-bg) 55%, #020617 100%);
  color:var(--dark-text);
  padding:16px 10px 12px;
  transition:background 200ms ease-out,color 200ms ease-out;
}

body.theme-light{
  --bg:var(--light-bg);
  --text:var(--light-text);
  --muted:var(--light-muted);
  --pill-bg:#e5edf8;
  --pill-text:#1f2937;
  background:radial-gradient(circle at top,#e0ebff 0,#f3f4f6 45%,#e5e7eb 100%);
  color:var(--light-text);
}

body.theme-dark{
  --bg:var(--dark-bg);
  --text:var(--dark-text);
  --muted:var(--dark-muted);
}

/* ========== EN-TÊTE PORTAIL ========== */

.portal-header-wrapper{
  width:100%;
  display:flex;
  justify-content:center;
}

.portal-header{
  width:100%;
  max-width:var(--header-max);
  margin:0 auto 10px auto;
  position:relative;
}

/* Boutons Accueil + Thème */
.header-tools{
  position:absolute;
  top:0;
  right:0;
  display:flex;
  align-items:center;
  gap:6px;
}

.header-btn{
  font-size:0.72rem;
  padding:4px 9px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,0.7);
  background:rgba(0,0,0,0.28);
  color:#ffffff;
  text-decoration:none;
  letter-spacing:0.04em;
  text-transform:uppercase;
  cursor:pointer;
  display:inline-flex;
  align-items:center;
  gap:6px;
  transition:background 150ms ease-out,transform 150ms ease-out,box-shadow 150ms ease-out,border-color 150ms ease-out;
}

.header-btn:hover{
  transform:translateY(-1px);
  background:rgba(15,23,42,0.85);
  box-shadow:0 10px 20px rgba(0,0,0,0.45);
  border-color:rgba(248,250,252,0.9);
}

body.theme-light .header-btn{
  border-color:#cbd5e1;
  background:#ffffff;
  color:#111827;
}
body.theme-light .header-btn:hover{
  background:#e5edf8;
  box-shadow:0 10px 18px rgba(15,23,42,0.15);
}

/* Logos */
.logo-row{
  display:flex;
  flex-wrap:wrap;
  gap:6px;
  font-size:0.75rem;
  color:var(--muted);
  padding-right:160px;
}

.logo-block{
  padding:3px 8px;
  border-radius:999px;
  border:1px solid rgba(148,163,184,0.5);
  background:rgba(15,23,42,0.7);
}

body.theme-light .logo-block{
  background:rgba(255,255,255,0.9);
  border-color:#cbd5e1;
  color:#1f2937;
}

/* Titre portail */
.portal-title{
  margin:10px 0 2px 0;
  font-size:1.45rem;
  letter-spacing:0.04em;
  text-transform:uppercase;
  color:#e5e7eb;
}
.portal-subtitle{
  margin:0 0 8px 0;
  font-size:0.9rem;
  color:var(--muted);
}

body.theme-light .portal-title{
  color:#111827;
}
body.theme-light .portal-subtitle{
  color:#4b5563;
}

.header-separator{
  height:1px;
  width:100%;
  margin:6px 0 10px 0;
  background:linear-gradient(to right,rgba(148,163,184,0.7),rgba(148,163,184,0));
}

/* NAVIGATION PILULES */
.page-nav{
  display:flex;
  flex-wrap:wrap;
  gap:8px;
  font-size:0.78rem;
}
.page-nav a{
  padding:4px 10px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,0.35);
  text-decoration:none;
  color:var(--muted);
  background:rgba(0,0,0,0.16);
  transition:background 120ms ease-out,color 120ms ease-out,border-color 120ms ease-out;
}
.page-nav a.active{
  color:var(--text);
  border-color:rgba(255,255,255,0.8);
  background:rgba(255,255,255,0.12);
}
.page-nav a.nav-admin{
  background:#020617;
  border-color:#020617;
  color:#f9fafb;
}
.page-nav a.nav-admin:hover,
.page-nav a.nav-admin.active{
  background:#0b1120;
  border-color:#020617;
  color:#ffffff;
}
.page-nav a.nav-ddfpt{
  background:#059669;
  border-color:#059669;
  color:#f9fafb;
}
.page-nav a.nav-ddfpt:hover,
.page-nav a.nav-ddfpt.active{
  background:#047857;
  border-color:#059669;
  color:#ffffff;
}

body.theme-light .page-nav a{
  border-color:#cbd5e1;
  background:#ffffff;
  color:#4b5563;
}
body.theme-light .page-nav a.active{
  background:#1b396a;
  color:#f9fafb;
  border-color:#1b396a;
}
body.theme-light .page-nav a.nav-admin,
body.theme-light .page-nav a.nav-admin.active{
  background:#020617;
  border-color:#020617;
  color:#f9fafb;
}
body.theme-light .page-nav a.nav-ddfpt,
body.theme-light .page-nav a.nav-ddfpt.active{
  background:#059669;
  border-color:#059669;
  color:#f9fafb;
}

/* OVERLAY CHARGEMENT */
#overlay-loading{
  position:fixed;
  inset:0;
  background:rgba(15,23,42,0.88);
  color:#e5e7eb;
  z-index:40;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  font-size:0.95rem;
  text-align:center;
}
#overlay-loading .spinner{
  width:40px;
  height:40px;
  border-radius:50%;
  border:4px solid rgba(148,163,184,0.4);
  border-top-color:#f97316;
  animation:spin 0.8s linear infinite;
  margin-bottom:10px;
}
@keyframes spin{
  to{transform:rotate(360deg);}
}

@media (max-width:900px){
  .logo-row{padding-right:0;}
}
@media (max-width:600px){
  body{padding:14px 8px;}
  .header-tools{
    position:static;
    margin:0 auto 6px;
    justify-content:center;
  }
  .portal-header{padding-top:28px;}
  .logo-block{white-space:normal;}
}

/* Utilitaires impression */
.no-print{
  /* à compléter dans les CSS spécifiques si besoin */
}
